(()=>{var e={};e.id=698,e.ids=[698],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},5511:e=>{"use strict";e.exports=require("crypto")},4735:e=>{"use strict";e.exports=require("events")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1645:e=>{"use strict";e.exports=require("net")},3873:e=>{"use strict";e.exports=require("path")},1997:e=>{"use strict";e.exports=require("punycode")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},4075:e=>{"use strict";e.exports=require("zlib")},8173:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=t(260),n=t(8203),a=t(5155),i=t.n(a),l=t(7292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7949)),"/Users/darrengalvin/Downloads/email connector/src/app/admin/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,6038)),"/Users/darrengalvin/Downloads/email connector/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2126)),"/Users/darrengalvin/Downloads/email connector/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/darrengalvin/Downloads/email connector/src/app/admin/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8049:(e,s,t)=>{Promise.resolve().then(t.bind(t,6038))},4497:(e,s,t)=>{Promise.resolve().then(t.bind(t,6362))},5746:(e,s,t)=>{Promise.resolve().then(t.bind(t,4008))},9306:(e,s,t)=>{Promise.resolve().then(t.bind(t,9452))},4949:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(3258).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6362:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(5512),n=t(9452);function a(){return(0,r.jsx)(n.AdminPanel,{})}},9452:(e,s,t)=>{"use strict";t.d(s,{AdminPanel:()=>p});var r=t(5512),n=t(8009),a=t(8458);function i({settings:e,onUpdate:s}){return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)(a.A,{className:"w-5 h-5 text-primary"}),(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"API Configuration"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OpenAI API Key"}),(0,r.jsx)("input",{type:"password",className:"w-full rounded-md",value:e.openaiApiKey,onChange:e=>s({openaiApiKey:e.target.value}),placeholder:"sk-..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anthropic API Key"}),(0,r.jsx)("input",{type:"password",className:"w-full rounded-md",value:e.anthropicApiKey,onChange:e=>s({anthropicApiKey:e.target.value}),placeholder:"sk-ant-..."})]})]})]})}var l=t(4520);function o({settings:e,onUpdate:s}){return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)(l.A,{className:"w-5 h-5 text-primary"}),(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Email Settings"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Tone"}),(0,r.jsxs)("select",{className:"w-full rounded-md",value:e.tone,onChange:e=>s({tone:e.target.value}),children:[(0,r.jsx)("option",{value:"formal",children:"Formal"}),(0,r.jsx)("option",{value:"casual",children:"Casual"}),(0,r.jsx)("option",{value:"friendly",children:"Friendly"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),(0,r.jsxs)("select",{className:"w-full rounded-md",value:e.language,onChange:e=>s({language:e.target.value}),children:[(0,r.jsx)("option",{value:"en",children:"English"}),(0,r.jsx)("option",{value:"es",children:"Spanish"}),(0,r.jsx)("option",{value:"fr",children:"French"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Signature"}),(0,r.jsx)("textarea",{className:"w-full rounded-md",rows:3,value:e.signature,onChange:e=>s({signature:e.target.value}),placeholder:"Your email signature..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reply Delay (minutes)"}),(0,r.jsx)("input",{type:"number",className:"w-full rounded-md",value:e.replyDelay,onChange:e=>s({replyDelay:parseInt(e.target.value)}),min:0})]})]})]})}let d=(0,t(3258).A)("MailPlus",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]]);var c=t(4949),m=t(4849),u=t(8866),x=t(4432);function h(){let[e,s]=(0,n.useState)(null),[t,a]=(0,n.useState)({microsoft:!1,google:!1}),i=async e=>{s(e),await new Promise(e=>setTimeout(e,1500)),a(s=>({...s,[e]:!0})),s(null)};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Email Account Connections"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Connect your email accounts to enable AI-powered email management"})]}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(d,{className:"w-8 h-8 text-blue-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:"Microsoft Account"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Connect your Outlook or Office 365 account"})]})]}),(0,r.jsx)("button",{onClick:()=>i("microsoft"),disabled:"microsoft"===e||t.microsoft,className:`px-4 py-2 rounded-md flex items-center gap-2 ${t.microsoft?"bg-green-50 text-green-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"microsoft"===e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-4 h-4 animate-spin"})," Connecting..."]}):t.microsoft?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"w-4 h-4"})," Connected"]}):"Connect"})]}),(0,r.jsxs)("div",{className:"mt-4 bg-white rounded p-4 border border-gray-200",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Setup Instructions:"}),(0,r.jsxs)("ol",{className:"text-sm text-gray-600 space-y-2 list-decimal list-inside",children:[(0,r.jsx)("li",{children:"Register your application in the Azure Portal"}),(0,r.jsx)("li",{children:"Configure OAuth 2.0 authentication"}),(0,r.jsxs)("li",{children:["Add the following permissions:",(0,r.jsxs)("ul",{className:"ml-6 mt-1 list-disc text-gray-500",children:[(0,r.jsx)("li",{children:"Mail.Read"}),(0,r.jsx)("li",{children:"Mail.Send"}),(0,r.jsx)("li",{children:"User.Read"})]})]}),(0,r.jsxs)("li",{children:["Add your redirect URI: ",(0,r.jsx)("code",{className:"px-2 py-1 bg-gray-100 rounded text-sm",children:"https://yourdomain.com/auth/callback"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(u.A,{className:"w-8 h-8 text-red-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:"Google Account"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Connect your Gmail account"})]})]}),(0,r.jsx)("button",{onClick:()=>i("google"),disabled:"google"===e||t.google,className:`px-4 py-2 rounded-md flex items-center gap-2 ${t.google?"bg-green-50 text-green-600":"bg-red-600 text-white hover:bg-red-700"}`,children:"google"===e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-4 h-4 animate-spin"})," Connecting..."]}):t.google?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"w-4 h-4"})," Connected"]}):"Connect"})]}),(0,r.jsxs)("div",{className:"mt-4 bg-white rounded p-4 border border-gray-200",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Setup Instructions:"}),(0,r.jsxs)("ol",{className:"text-sm text-gray-600 space-y-2 list-decimal list-inside",children:[(0,r.jsx)("li",{children:"Create a project in Google Cloud Console"}),(0,r.jsx)("li",{children:"Enable the Gmail API"}),(0,r.jsx)("li",{children:"Configure OAuth consent screen"}),(0,r.jsxs)("li",{children:["Create OAuth 2.0 credentials with these scopes:",(0,r.jsxs)("ul",{className:"ml-6 mt-1 list-disc text-gray-500",children:[(0,r.jsx)("li",{children:"https://www.googleapis.com/auth/gmail.readonly"}),(0,r.jsx)("li",{children:"https://www.googleapis.com/auth/gmail.send"}),(0,r.jsx)("li",{children:"https://www.googleapis.com/auth/gmail.labels"})]})]}),(0,r.jsxs)("li",{children:["Add authorized redirect URI: ",(0,r.jsx)("code",{className:"px-2 py-1 bg-gray-100 rounded text-sm",children:"https://yourdomain.com/auth/google/callback"})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-start gap-2 text-sm text-amber-600 bg-amber-50 p-3 rounded",children:[(0,r.jsx)(x.A,{className:"w-5 h-5 flex-shrink-0"}),(0,r.jsx)("p",{children:"Note: Your application must be verified by Google before you can connect with any Google account."})]})]})]})]})}function p(){let[e,s]=(0,n.useState)({openaiApiKey:"",anthropicApiKey:"",microsoftClientId:"",microsoftTenantId:"",supabaseConfig:{url:"",key:"",embeddingsTable:""},branding:{logoUrl:null,primaryColor:"",secondaryColor:"",companyName:"",emailSignature:""},emailSettings:{tone:"formal",language:"en",signature:"",replyDelay:0,excludedEmails:[],aiRules:{enabled:!1,allowedSenders:[],excludedSenders:[],keywords:[],maxTokensPerEmail:0,monthlyTokenBudget:0,processRules:{processAll:!1,processFromList:!1,processWithKeywords:!1}},tokenUsage:{currentMonthTokens:0,monthlyLimit:0,costPerThousandTokens:0},models:{},defaultModel:""}}),t=e=>{s(s=>({...s,...e}))};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#014380] to-[#014584]",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"Admin Control Panel"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(h,{}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(i,{settings:e,onUpdate:t}),(0,r.jsx)(o,{settings:e.emailSettings,onUpdate:s=>t({emailSettings:{...e.emailSettings,...s}})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{className:"px-6 py-2 bg-white text-primary rounded-md hover:bg-gray-100 transition-colors",children:"Save Changes"})})]})]})})}},6038:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/darrengalvin/Downloads/email connector/src/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/darrengalvin/Downloads/email connector/src/app/admin/layout.tsx","default")},7949:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>a});var r=t(2740),n=t(4008);let a={title:"Admin | Smart Email Manager",description:"Email Manager administration"};function i(){return(0,r.jsx)(n.AdminPanel,{})}},4008:(e,s,t)=>{"use strict";t.d(s,{AdminPanel:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call AdminPanel() from the server but AdminPanel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/darrengalvin/Downloads/email connector/src/components/admin/AdminPanel/AdminPanel.tsx","AdminPanel")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,806,150],()=>t(8173));module.exports=r})();