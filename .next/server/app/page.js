(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},5511:e=>{"use strict";e.exports=require("crypto")},4735:e=>{"use strict";e.exports=require("events")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1645:e=>{"use strict";e.exports=require("net")},3873:e=>{"use strict";e.exports=require("path")},1997:e=>{"use strict";e.exports=require("punycode")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},4075:e=>{"use strict";e.exports=require("zlib")},3325:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o});var a=s(260),r=s(8203),n=s(5155),i=s.n(n),l=s(7292),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4541)),"/Users/darrengalvin/Downloads/email connector/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2126)),"/Users/darrengalvin/Downloads/email connector/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/darrengalvin/Downloads/email connector/src/app/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},808:(e,t,s)=>{Promise.resolve().then(s.bind(s,1411))},1480:(e,t,s)=>{Promise.resolve().then(s.bind(s,8790))},236:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3258).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},8577:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3258).A)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]])},3286:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3258).A)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},6873:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3258).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},617:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3258).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},4937:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3258).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},3287:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3258).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},8790:(e,t,s)=>{"use strict";s.d(t,{EmailDashboard:()=>B});var a=s(5512),r=s(8009),n=s(6613),i=s(7261),l=s(8866);function d({title:e,onCompose:t}){return(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:e}),(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsxs)("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"Compose"]})})]})}var o=s(236),c=s(4643),m=s(3287);function x(){let{emails:e}=(0,n.x)(),t={aiHandled:e.filter(e=>"ai_pending"===e.status).length,needsReview:e.filter(e=>"human_pending"===e.status).length,approved:e.filter(e=>"approved"===e.status).length};return(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-600",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"AI Processing"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-700 mt-2",children:t.aiHandled})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-yellow-600",children:[(0,a.jsx)(c.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"Needs Review"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-700 mt-2",children:t.needsReview})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,a.jsx)(m.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"Approved"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-700 mt-2",children:t.approved})]})]})}var h=s(4269),p=s(4432),u=s(4937),g=s(8577),y=s(3258);let b=(0,y.A)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);var j=s(3286);let v=(0,y.A)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);var f=s(2901);function N({messages:e,currentEmailId:t}){let s=[...e].sort((e,t)=>e.timestamp.getTime()-t.timestamp.getTime());return(0,a.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("div",{className:"w-px h-4 bg-gray-300"}),(0,a.jsxs)("span",{children:[e.length," messages in thread"]})]}),s.map((e,r)=>(0,a.jsxs)("div",{className:`relative pl-4 ${e.id===t?"bg-blue-50 border border-blue-100 rounded-lg p-4":"pl-8"}`,children:[r<s.length-1&&(0,a.jsx)("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-gray-200"}),(0,a.jsx)("div",{className:`absolute left-2 top-6 w-4 h-4 rounded-full ${e.id===t?"bg-blue-500":"bg-gray-300"}`}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.from}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["To: ",e.to.join(", ")]})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:(0,f.N)(e.timestamp)})]}),(0,a.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap",children:e.body}),e.attachments&&e.attachments.length>0&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t space-y-2",children:e.attachments.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-2 rounded",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("span",{className:"text-gray-400",children:["(",Math.round(e.size/1024)," KB)"]})]},e.id))})]})]},e.id))]})}let w=(0,y.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var k=s(617);function A({value:e,onChange:t}){return(0,a.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(s=>(0,a.jsx)("button",{onClick:()=>t(s),className:"focus:outline-none",children:(0,a.jsx)(k.A,{className:`w-5 h-5 ${s<=e?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},s))})}function M({emailId:e,suggestionId:t,onSubmit:s}){let[n,i]=(0,r.useState)(0),[l,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),h=async()=>{if(null!==l){x(!0);try{await s({emailId:e,suggestionId:t,rating:n,helpful:l,comment:o.trim()||void 0})}finally{x(!1)}}};return(0,a.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Was this AI response helpful?"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{onClick:()=>d(!0),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${!0===l?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"}`,children:[(0,a.jsx)(v,{className:"w-4 h-4"}),"Yes"]}),(0,a.jsxs)("button",{onClick:()=>d(!1),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${!1===l?"bg-red-100 text-red-700":"text-gray-600 hover:bg-gray-100"}`,children:[(0,a.jsx)(b,{className:"w-4 h-4"}),"No"]})]}),null!==l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate the response quality"}),(0,a.jsx)(A,{value:n,onChange:i})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional feedback (optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(w,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,a.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-md",placeholder:"What could be improved?",rows:3})]})]}),(0,a.jsx)("button",{onClick:h,disabled:m,className:"w-full px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark disabled:opacity-50",children:m?"Submitting...":"Submit Feedback"})]})]})}let S=(0,y.A)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),C=(0,y.A)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var R=s(1075);function P({reasoning:e}){return"string"==typeof e?(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"AI Reasoning"})]}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:e})]}):(0,a.jsxs)("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-700",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"AI Reasoning Details"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Explanation"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:e.explanation})]}),e.sources&&e.sources.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(S,{className:"w-4 h-4 text-blue-700"}),(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Sources Used"})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.sources.map(e=>(0,a.jsxs)("div",{className:"bg-white/60 p-3 rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm text-blue-900",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-blue-600",children:[Math.round(100*e.relevance),"% relevant"]})]}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:e.excerpt})]},e.id))})]}),e.embeddings&&e.embeddings.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(C,{className:"w-4 h-4 text-blue-700"}),(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Key Embeddings"})]}),(0,a.jsx)("div",{className:"space-y-1",children:e.embeddings.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm p-2 bg-white/60 rounded",children:[(0,a.jsx)("span",{className:"text-blue-700",children:e.text}),(0,a.jsxs)("span",{className:"text-xs text-blue-600",children:[Math.round(100*e.similarity),"% match"]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white/60 rounded-md",children:[(0,a.jsx)(R.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Confidence Score"}),(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:[Math.round(100*e.confidence),"%"]})]})]})]})]})}function D({email:e,isOpen:t,onClose:s,onApprove:n,onReject:i,onEdit:l}){let[d,c]=(0,r.useState)(!0);return t&&e?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex justify-end",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl bg-white h-full overflow-auto animate-slide-left",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(h.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-medium text-gray-900",children:e.subject}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:e.from}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsx)("span",{children:(0,f.N)(e.timestamp)})]})]})]}),e.aiMetadata?.priority==="high"&&(0,a.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-sm rounded-full flex items-center gap-1",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),"High Priority"]})]}),e.aiMetadata&&(0,a.jsxs)("div",{className:"flex divide-x border-t",children:[(0,a.jsxs)("div",{className:"flex-1 px-4 py-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 block",children:"Sentiment"}),(0,a.jsx)("span",{className:`text-sm font-medium ${e.aiMetadata?.sentiment==="positive"?"text-green-600":e.aiMetadata?.sentiment==="negative"?"text-red-600":"text-gray-600"}`,children:e.aiMetadata?.sentiment?e.aiMetadata.sentiment.charAt(0).toUpperCase()+e.aiMetadata.sentiment.slice(1):"Neutral"})]}),(0,a.jsxs)("div",{className:"flex-1 px-4 py-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 block",children:"Priority"}),(0,a.jsx)("span",{className:`text-sm font-medium ${e.aiMetadata?.priority==="high"?"text-red-600":e.aiMetadata?.priority==="medium"?"text-yellow-600":"text-green-600"}`,children:e.aiMetadata?.priority?e.aiMetadata.priority.toUpperCase():"NORMAL"})]}),e.aiMetadata.category&&(0,a.jsxs)("div",{className:"flex-1 px-4 py-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 block",children:"Category"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-600 flex items-center gap-1",children:[(0,a.jsx)(u.A,{className:"w-3 h-3"}),e.aiMetadata.category]})]})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[d&&e.thread&&(0,a.jsx)(N,{messages:e.thread,currentEmailId:e.id}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"prose max-w-none whitespace-pre-wrap",children:e.body})}),e.attachments&&e.attachments.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Attachments"}),(0,a.jsx)("div",{className:"space-y-2",children:e.attachments.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 flex-1",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:["(",Math.round(e.size/1024)," KB)"]})]},e.id))})]}),e.aiSuggestion&&(0,a.jsxs)("div",{className:"mb-6 bg-blue-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("h3",{className:"font-medium text-blue-600",children:"AI Suggested Response"}),(0,a.jsxs)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full",children:[Math.round(100*e.aiSuggestion.confidence),"% confidence"]})]}),(0,a.jsxs)("div",{className:"bg-white/80 p-4 rounded",children:[(0,a.jsx)("div",{className:"whitespace-pre-wrap text-gray-900",children:e.aiSuggestion.body}),e.aiSuggestion.reasoning&&(0,a.jsx)(P,{reasoning:e.aiSuggestion.reasoning})]}),(0,a.jsx)(M,{emailId:e.id,suggestionId:e.aiSuggestion.id,onSubmit:async e=>{console.log("Feedback submitted:",e)}})]}),(0,a.jsxs)("div",{className:"sticky bottom-0 bg-white border-t -mx-6 -mb-6 p-4 flex justify-end gap-3",children:[i&&(0,a.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-md",children:[(0,a.jsx)(b,{className:"w-4 h-4"}),"Reject"]}),l&&(0,a.jsxs)("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-50 rounded-md",children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),"Edit"]}),n&&(0,a.jsxs)("button",{onClick:n,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white hover:bg-green-700 rounded-md",children:[(0,a.jsx)(v,{className:"w-4 h-4"}),"Approve & Send"]})]})]})]})}):null}var q=s(6873);let I=(0,y.A)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),_=(0,y.A)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),T=(0,y.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),E={search:"",status:[],priority:[],category:[],dateRange:{start:null,end:null}};function U({onFilterChange:e,onSortChange:t}){let[s,n]=(0,r.useState)(E),[i,l]=(0,r.useState)({field:"date",direction:"desc"}),d=(0,r.useCallback)(t=>{let a={...s,...t};n(a),e(a)},[s,e]),o=(0,r.useCallback)(e=>{let s=i.field===e&&"desc"===i.direction?"asc":"desc",a={field:e,direction:s};l(a),t(a)},[i,t]),c=(0,r.useCallback)(()=>{n(E),e(E)},[e]),m=s.search||s.status.length>0||s.priority.length>0||s.category.length>0||s.dateRange.start||s.dateRange.end;return(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(q.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search emails...",value:s.search,onChange:e=>d({search:e.target.value}),className:"w-full pl-9 pr-4 py-2 border rounded-md"})]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("select",{value:s.status[0]||"",onChange:e=>d({status:e.target.value?[e.target.value]:[]}),className:"border rounded-md px-3 py-2",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"ai_pending",children:"AI Processing"}),(0,a.jsx)("option",{value:"human_pending",children:"Needs Review"}),(0,a.jsx)("option",{value:"approved",children:"Approved"})]}),(0,a.jsxs)("select",{value:s.priority[0]||"",onChange:e=>d({priority:e.target.value?[e.target.value]:[]}),className:"border rounded-md px-3 py-2",children:[(0,a.jsx)("option",{value:"",children:"All Priority"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"low",children:"Low"})]}),(0,a.jsx)("input",{type:"date",value:s.dateRange.start?.toISOString().split("T")[0]||"",onChange:e=>d({dateRange:{...s.dateRange,start:e.target.value?new Date(e.target.value):null}}),className:"border rounded-md px-3 py-2"}),(0,a.jsxs)("button",{onClick:()=>o("date"),className:"flex items-center gap-1 px-3 py-2 border rounded-md hover:bg-gray-50",children:["date"===i.field&&"desc"===i.direction?(0,a.jsx)(I,{className:"w-4 h-4"}):(0,a.jsx)(_,{className:"w-4 h-4"}),"Date"]}),m&&(0,a.jsxs)("button",{onClick:c,className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-md",title:"Clear all filters",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"Clear"]})]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 text-primary hover:bg-primary/5 rounded-md",children:[(0,a.jsx)(T,{className:"w-4 h-4"}),"More Filters"]})]}),m&&(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.search&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-full text-sm",children:["Search: ",s.search,(0,a.jsx)("button",{onClick:()=>d({search:""}),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(h.A,{className:"w-3 h-3"})})]}),s.status.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:["Status: ",e.replace("_"," "),(0,a.jsx)("button",{onClick:()=>d({status:[]}),className:"text-blue-600 hover:text-blue-800",children:(0,a.jsx)(h.A,{className:"w-3 h-3"})})]},e)),s.priority.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:["Priority: ",e,(0,a.jsx)("button",{onClick:()=>d({priority:[]}),className:"text-yellow-600 hover:text-yellow-800",children:(0,a.jsx)(h.A,{className:"w-3 h-3"})})]},e)),s.dateRange.start&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:["From: ",s.dateRange.start.toLocaleDateString(),(0,a.jsx)("button",{onClick:()=>d({dateRange:{...s.dateRange,start:null}}),className:"text-green-600 hover:text-green-800",children:(0,a.jsx)(h.A,{className:"w-3 h-3"})})]})]})]})}var z=s(864);function B(){let{emails:e}=(0,n.x)(),{fetchEmails:t}=function(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),{setEmails:i}=(0,n.x)();return{loading:e,error:s,fetchEmails:(0,r.useCallback)(async()=>{t(!0),a(null);try{let e=[{id:"1",subject:"Urgent: Q4 Budget Review Meeting",from:"sarah.finance@company.com",to:["user@example.com"],body:`Hi Team,

I hope this email finds you well. We need to schedule an urgent meeting to review the Q4 budget projections. Our preliminary analysis shows some concerning trends that require immediate attention.

Key points for discussion:
- Revenue forecast adjustments
- Unexpected cost increases in Q3
- Impact on year-end targets
- Mitigation strategies

Please let me know your availability for tomorrow or Wednesday.

Best regards,
Sarah`,attachments:[{id:"1",name:"Q4_Budget_Review.xlsx",type:"spreadsheet",size:2048576,url:"#"},{id:"2",name:"Financial_Summary.pdf",type:"document",size:1048576,url:"#"}],timestamp:new Date,status:"ai_pending",aiMetadata:{sentiment:"negative",priority:"high",category:"finance",suggestedResponse:"Thank you for bringing this to our attention..."},aiSuggestion:{id:"1",body:`Dear Sarah,

Thank you for raising these concerns about the Q4 budget. I understand the urgency and can make myself available tomorrow at 2 PM for the review meeting.

I've already reviewed the preliminary numbers and agree that we need to address these trends promptly. I'll prepare some initial mitigation proposals for discussion.

Would tomorrow at 2 PM work for you?

Best regards,
[Your name]`,confidence:.92,reasoning:"Response prioritizes urgency while maintaining professional tone"}},{id:"2",subject:"New Product Launch Success!",from:"marketing.team@company.com",to:["user@example.com"],body:`Hello everyone,

I'm thrilled to share that our latest product launch has exceeded all expectations! The initial numbers are incredibly promising:

â€¢ 150% above projected sales
â€¢ 92% positive customer feedback
â€¢ Featured in 3 major tech publications
â€¢ #1 trending in our category

This success is a testament to everyone's hard work and dedication. Special thanks to the development team for delivering such an outstanding product, and to our marketing team for the excellent campaign execution.

Let's schedule a celebration soon!

Cheers,
Marketing Team`,attachments:[],timestamp:new Date(Date.now()-36e5),status:"human_pending",aiMetadata:{sentiment:"positive",priority:"medium",category:"marketing"},aiSuggestion:{id:"2",body:"Congratulations on the successful launch! This is fantastic news...",confidence:.88,reasoning:"Positive acknowledgment with specific metrics mentioned"}},{id:"3",subject:"Weekly Development Update",from:"dev.lead@company.com",to:["user@example.com"],body:`Team,

Here's our weekly development update:

Sprint Progress:
âœ… User authentication refactor completed
ðŸ—ï¸ API optimization in progress (75% complete)
ðŸ“± Mobile responsive design implementation started
ðŸ› Fixed 12 high-priority bugs

Upcoming Challenges:
- Database migration scheduled for next week
- Load testing for new features
- Third-party integration updates

Please review the attached technical documentation and provide feedback by Friday.

Regards,
Dev Team`,attachments:[{id:"3",name:"TechnicalSpec.pdf",type:"document",size:3145728,url:"#"}],timestamp:new Date(Date.now()-72e5),status:"approved",aiMetadata:{sentiment:"neutral",priority:"medium",category:"development"}}];i(e)}catch(e){a(e instanceof Error?e:Error("Failed to fetch emails"))}finally{t(!1)}},[i])}}(),[s,l]=(0,r.useState)(null),[o,c]=(0,r.useState)(e),m=(0,r.useCallback)(()=>{console.log("Compose clicked")},[]);return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)(d,{title:"AI-Powered Inbox",onCompose:m}),(0,a.jsx)(x,{}),(0,a.jsx)(U,{onFilterChange:e=>{},onSortChange:e=>{}}),(0,a.jsx)(i.n,{emails:o,onEmailClick:e=>{"Urgent: Q4 Budget Review Meeting"===e.subject?l({...e,thread:z.Q.messages.map(t=>({id:t.id,subject:e.subject,body:t.body,to:e.to,from:t.from,timestamp:new Date(t.timestamp),status:"sent"}))}):l(e)}}),(0,a.jsx)(D,{email:s,isOpen:!!s,onClose:()=>l(null),onApprove:()=>{console.log("Approved:",s?.id),l(null)},onReject:()=>{console.log("Rejected:",s?.id),l(null)},onEdit:()=>{console.log("Edit:",s?.id)}})]})}},7261:(e,t,s)=>{"use strict";s.d(t,{n:()=>h});var a=s(5512),r=s(236),n=s(4643),i=s(3287),l=s(4432),d=s(8577),o=s(4937),c=s(617),m=s(2901);function x({email:e,onClick:t}){let{icon:s,color:x,bgColor:h,badge:p}=(()=>{switch(e.status){case"ai_pending":return{icon:r.A,color:"text-blue-500",bgColor:"bg-blue-50",badge:"AI Processing"};case"human_pending":return{icon:n.A,color:"text-yellow-500",bgColor:"bg-yellow-50",badge:"Needs Review"};case"approved":return{icon:i.A,color:"text-green-500",bgColor:"bg-green-50",badge:"Approved"};default:return{icon:l.A,color:"text-gray-400",bgColor:"bg-gray-50",badge:"New"}}})(),u=e.aiMetadata?.priority;return(0,a.jsx)("div",{onClick:t,className:`group p-6 hover:bg-gray-50 cursor-pointer transition-all duration-200 border-l-4 ${"high"===u?"border-red-500":"medium"===u?"border-yellow-500":"border-transparent"}`,children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:`flex-shrink-0 ${h} p-2 rounded-lg transition-transform group-hover:scale-105`,children:(0,a.jsx)(s,{className:`w-5 h-5 ${x}`})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 text-lg",children:e.subject}),(0,a.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-full ${h} ${x}`,children:p}),e.aiMetadata?.sentiment&&(0,a.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-full ${"positive"===e.aiMetadata.sentiment?"bg-green-100 text-green-600":"negative"===e.aiMetadata.sentiment?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:e.aiMetadata.sentiment}),e.attachments&&e.attachments.length>0&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,a.jsx)(d.A,{className:"w-3 h-3"}),e.attachments.length]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[(0,a.jsx)("span",{className:"font-medium",children:e.from}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsx)("span",{children:(0,m.N)(e.timestamp)}),e.aiMetadata?.category&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-3 h-3"}),e.aiMetadata.category]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-gray-600 line-clamp-2",children:e.body}),e.aiSuggestion&&(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-full",children:[(0,a.jsx)(r.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["AI response ready â€¢ ",Math.round(100*e.aiSuggestion.confidence),"% confidence"]})]})})]})]}),(0,a.jsx)("div",{className:"flex flex-col items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(c.A,{className:"w-4 h-4 text-gray-400"})})})]})})}function h({emails:e,onEmailClick:t}){return 0===e.length?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No emails to display"}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow divide-y divide-gray-200",children:e.map(e=>(0,a.jsx)(x,{email:e,onClick:()=>t?.(e)},e.id))})}},2901:(e,t,s)=>{"use strict";function a(e){let t=new Date,s=t.getTime()-e.getTime();if(s<6e4)return"Just now";if(s<36e5){let e=Math.floor(s/6e4);return`${e}m ago`}if(s<864e5){let e=Math.floor(s/36e5);return`${e}h ago`}return s<6048e5?e.toLocaleDateString("en-US",{weekday:"short"}):e.getFullYear()===t.getFullYear()?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}s.d(t,{N:()=>a})},864:(e,t,s)=>{"use strict";s.d(t,{Q:()=>a,u:()=>r});let a={id:"1",subject:"Urgent: Q4 Budget Review Meeting",messages:[{id:"msg1",from:"sarah.finance@company.com",to:["team@company.com"],subject:"Urgent: Q4 Budget Review Meeting",body:`Hi Team,

I hope this email finds you well. We need to schedule an urgent meeting to review the Q4 budget projections. Our preliminary analysis shows some concerning trends that require immediate attention.

Key points for discussion:
- Revenue forecast adjustments
- Unexpected cost increases in Q3
- Impact on year-end targets
- Mitigation strategies

Please let me know your availability for tomorrow or Wednesday.

Best regards,
Sarah`,timestamp:new Date("2024-01-04T09:00:00"),status:"sent",attachments:[{id:"1",name:"Q4_Budget_Review.xlsx",size:2048576},{id:"2",name:"Financial_Summary.pdf",size:1048576}]},{id:"msg2",from:"john.manager@company.com",to:["sarah.finance@company.com","team@company.com"],subject:"Re: Urgent: Q4 Budget Review Meeting",body:`Thanks for flagging this, Sarah.

I can make myself available tomorrow at 2 PM EST. The cost increases are indeed concerning, and I've already started gathering some data on the main contributors.

I'll prepare a brief overview of the operational impacts for the meeting.

Best,
John`,timestamp:new Date("2024-01-04T09:45:00"),status:"sent"}]},r=[{id:"1",subject:"Urgent: Q4 Budget Review Meeting",from:"sarah.finance@company.com",to:["user@example.com"],body:a.messages[0].body,attachments:a.messages[0].attachments,timestamp:new Date,status:"ai_pending",aiMetadata:{sentiment:"negative",priority:"high",category:"finance"},aiSuggestion:{id:"sugg1",body:`Dear Sarah,

Thank you for raising these concerns about the Q4 budget. I understand the urgency and can make myself available tomorrow at 2 PM for the review meeting.

I've already reviewed the preliminary numbers and agree that we need to address these trends promptly. I'll prepare some initial mitigation proposals for discussion.

Would tomorrow at 2 PM work for you?

Best regards,
[Your name]`,confidence:.92,reasoning:"Response prioritizes urgency while maintaining professional tone"}}]},4541:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var a=s(2740),r=s(1411);function n(){return(0,a.jsx)(r.EmailDashboard,{})}let i={title:"Inbox | Smart Email Manager",description:"View and manage your emails"};function l(){return(0,a.jsx)(n,{})}},1411:(e,t,s)=>{"use strict";s.d(t,{EmailDashboard:()=>a});let a=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call EmailDashboard() from the server but EmailDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/darrengalvin/Downloads/email connector/src/components/email/EmailDashboard/EmailDashboard.tsx","EmailDashboard")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,806,150],()=>s(3325));module.exports=a})();