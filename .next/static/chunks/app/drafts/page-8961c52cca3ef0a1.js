(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{4321:(e,t,r)=>{Promise.resolve().then(r.bind(r,3632)),Promise.resolve().then(r.bind(r,9551))},2800:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(2115),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{color:l="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:m,...p}=r;return(0,a.createElement)("svg",{ref:i,...s,width:o,height:o,stroke:l,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(n(e)),u].join(" "),...p},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},6972:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2800).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7410:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2800).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},6889:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2800).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6462:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2800).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5015:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2800).A)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]])},865:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2800).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5471:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2800).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},1023:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2800).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},9125:(e,t,r)=>{"use strict";var a=r(2115),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,i=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=n({inst:{value:r,getSnapshot:t}}),s=a[0].inst,d=a[1];return l(function(){s.value=r,s.getSnapshot=t,c(s)&&d({inst:s})},[e,r,t]),i(function(){return c(s)&&d({inst:s}),e(function(){c(s)&&d({inst:s})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},6854:(e,t,r)=>{"use strict";var a=r(2115),s=r(4236),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=s.useSyncExternalStore,l=a.useRef,o=a.useEffect,c=a.useMemo,d=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var u=l(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var p=i(e,(u=c(function(){function e(e){if(!o){if(o=!0,i=e,e=a(e),void 0!==s&&m.hasValue){var t=m.value;if(s(t,e))return l=t}return l=e}if(t=l,n(i,e))return t;var r=a(e);return void 0!==s&&s(t,r)?t:(i=e,l=r)}var i,l,o=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,a,s]))[0],u[1]);return o(function(){m.hasValue=!0,m.value=p},[p]),d(p),p}},4236:(e,t,r)=>{"use strict";e.exports=r(9125)},8010:(e,t,r)=>{"use strict";e.exports=r(6854)},3632:(e,t,r)=>{"use strict";r.d(t,{DraftsHeader:()=>n});var a=r(5155),s=r(6462);function n(){return(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Drafts"}),(0,a.jsxs)("button",{className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(s.A,{className:"w-4 h-4"}),"New Draft"]})]})}},9551:(e,t,r)=>{"use strict";r.d(t,{DraftsList:()=>l});var a=r(5155),s=r(2925),n=r(7123),i=r(3632);function l(){let{drafts:e}=(0,s.x)();return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)(i.DraftsHeader,{}),(0,a.jsx)(n.n,{emails:e,onEmailClick:e=>{console.log("Edit draft:",e.id)}})]})}},7123:(e,t,r)=>{"use strict";r.d(t,{n:()=>p});var a=r(5155),s=r(7410),n=r(6889),i=r(1023),l=r(6972),o=r(5015),c=r(5471),d=r(865),u=r(9313);function m(e){var t,r,m;let{email:p,onClick:g}=e,{icon:h,color:f,bgColor:x,badge:y}=(()=>{switch(p.status){case"ai_pending":return{icon:s.A,color:"text-blue-500",bgColor:"bg-blue-50",badge:"AI Processing"};case"human_pending":return{icon:n.A,color:"text-yellow-500",bgColor:"bg-yellow-50",badge:"Needs Review"};case"approved":return{icon:i.A,color:"text-green-500",bgColor:"bg-green-50",badge:"Approved"};default:return{icon:l.A,color:"text-gray-400",bgColor:"bg-gray-50",badge:"New"}}})(),v=null===(t=p.aiMetadata)||void 0===t?void 0:t.priority;return(0,a.jsx)("div",{onClick:g,className:"group p-6 hover:bg-gray-50 cursor-pointer transition-all duration-200 border-l-4 ".concat("high"===v?"border-red-500":"medium"===v?"border-yellow-500":"border-transparent"),children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 ".concat(x," p-2 rounded-lg transition-transform group-hover:scale-105"),children:(0,a.jsx)(h,{className:"w-5 h-5 ".concat(f)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 text-lg",children:p.subject}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(x," ").concat(f),children:y}),(null===(r=p.aiMetadata)||void 0===r?void 0:r.sentiment)&&(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat("positive"===p.aiMetadata.sentiment?"bg-green-100 text-green-600":"negative"===p.aiMetadata.sentiment?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"),children:p.aiMetadata.sentiment}),p.attachments&&p.attachments.length>0&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,a.jsx)(o.A,{className:"w-3 h-3"}),p.attachments.length]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[(0,a.jsx)("span",{className:"font-medium",children:p.from}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:(0,u.N)(p.timestamp)}),(null===(m=p.aiMetadata)||void 0===m?void 0:m.category)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.A,{className:"w-3 h-3"}),p.aiMetadata.category]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-gray-600 line-clamp-2",children:p.body}),p.aiSuggestion&&(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-full",children:[(0,a.jsx)(s.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["AI response ready • ",Math.round(100*p.aiSuggestion.confidence),"% confidence"]})]})})]})]}),(0,a.jsx)("div",{className:"flex flex-col items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(d.A,{className:"w-4 h-4 text-gray-400"})})})]})})}function p(e){let{emails:t,onEmailClick:r}=e;return 0===t.length?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No emails to display"}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow divide-y divide-gray-200",children:t.map(e=>(0,a.jsx)(m,{email:e,onClick:()=>null==r?void 0:r(e)},e.id))})}},2925:(e,t,r)=>{"use strict";r.d(t,{Jo:()=>o,x:()=>i});var a=r(5155),s=r(3749),n=r(2115);let i=(0,s.vt)(e=>({emails:[],drafts:[],settings:{tone:"formal",language:"en",signature:"",replyDelay:0,excludedEmails:[],branding:{logoUrl:"https://firebasestorage.googleapis.com/v0/b/yourcaio-649fe.appspot.com/o/DARRENGALVINPROFILE_38.jpg?alt=media&token=2f9e7366-e421-43a3-90cd-a13ad83dcc33",primaryColor:"#014380",secondaryColor:"#014584",companyName:"",emailSignature:""},aiRules:{enabled:!1,allowedSenders:[],excludedSenders:[],keywords:[],maxTokensPerEmail:2e3,monthlyTokenBudget:1e5,processRules:{processAll:!0,processFromList:!1,processWithKeywords:!1}},tokenUsage:{currentMonthTokens:0,monthlyLimit:1e5,costPerThousandTokens:.02},models:{anthropic:{enabled:!0,apiKey:"",maxTokens:2e3,temperature:.7,prompts:{systemPrompt:"",additionalInstructions:""}}},defaultModel:"anthropic"},setEmails:t=>e({emails:t}),addDraft:t=>e(e=>({drafts:[...e.drafts,t]})),updateDraft:(t,r)=>e(e=>({drafts:e.drafts.map(e=>e.id===t?r:e)})),approveDraft:t=>e(e=>({drafts:e.drafts.filter(e=>e.id!==t),emails:[...e.emails,e.drafts.find(e=>e.id===t)]})),deleteDraft:t=>e(e=>({drafts:e.drafts.filter(e=>e.id!==t)})),updateSettings:t=>e({settings:t})})),l=(0,n.createContext)(null);function o(e){let{children:t}=e,r=i();return(0,a.jsx)(l.Provider,{value:r,children:t})}},9313:(e,t,r)=>{"use strict";function a(e){let t=new Date,r=t.getTime()-e.getTime();if(r<6e4)return"Just now";if(r<36e5){let e=Math.floor(r/6e4);return"".concat(e,"m ago")}if(r<864e5){let e=Math.floor(r/36e5);return"".concat(e,"h ago")}return r<6048e5?e.toLocaleDateString("en-US",{weekday:"short"}):e.getFullYear()===t.getFullYear()?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}r.d(t,{N:()=>a})},3749:(e,t,r)=>{"use strict";r.d(t,{vt:()=>m});let a=e=>{let t;let r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,n={setState:a,getState:s,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},i=t=e(a,s,n);return n},s=e=>e?a(e):a;var n=r(2115),i=r(8010);let{useDebugValue:l}=n,{useSyncExternalStoreWithSelector:o}=i,c=!1,d=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?s(e):e,r=(e,r)=>(function(e,t=d,r){r&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let a=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return l(a),a})(t,e,r);return Object.assign(r,t),r},m=e=>e?u(e):u}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(4321)),_N_E=e.O()}]);