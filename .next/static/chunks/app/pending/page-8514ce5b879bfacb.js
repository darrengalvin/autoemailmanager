(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{1495:(e,t,s)=>{Promise.resolve().then(s.bind(s,986)),Promise.resolve().then(s.bind(s,6951))},2800:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(2115),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{color:l="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,...g}=s;return(0,a.createElement)("svg",{ref:i,...r,width:c,height:c,stroke:l,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(n(e)),u].join(" "),...g},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},6972:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7410:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},8867:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6889:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5015:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]])},3580:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},865:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5471:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},1023:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},767:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2800).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9125:(e,t,s)=>{"use strict";var a=s(2115),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,i=a.useEffect,l=a.useLayoutEffect,c=a.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!r(e,s)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),a=n({inst:{value:s,getSnapshot:t}}),r=a[0].inst,d=a[1];return l(function(){r.value=s,r.getSnapshot=t,o(r)&&d({inst:r})},[e,s,t]),i(function(){return o(r)&&d({inst:r}),e(function(){o(r)&&d({inst:r})})},[e]),c(s),s};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},6854:(e,t,s)=>{"use strict";var a=s(2115),r=s(4236),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,l=a.useRef,c=a.useEffect,o=a.useMemo,d=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,a,r){var u=l(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var g=i(e,(u=o(function(){function e(e){if(!c){if(c=!0,i=e,e=a(e),void 0!==r&&m.hasValue){var t=m.value;if(r(t,e))return l=t}return l=e}if(t=l,n(i,e))return t;var s=a(e);return void 0!==r&&r(t,s)?t:(i=e,l=s)}var i,l,c=!1,o=void 0===s?null:s;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,s,a,r]))[0],u[1]);return c(function(){m.hasValue=!0,m.value=g},[g]),d(g),g}},4236:(e,t,s)=>{"use strict";e.exports=s(9125)},8010:(e,t,s)=>{"use strict";e.exports=s(6854)},7123:(e,t,s)=>{"use strict";s.d(t,{n:()=>g});var a=s(5155),r=s(7410),n=s(6889),i=s(1023),l=s(6972),c=s(5015),o=s(5471),d=s(865),u=s(9313);function m(e){var t,s,m;let{email:g,onClick:x}=e,{icon:h,color:p,bgColor:f,badge:y}=(()=>{switch(g.status){case"ai_pending":return{icon:r.A,color:"text-blue-500",bgColor:"bg-blue-50",badge:"AI Processing"};case"human_pending":return{icon:n.A,color:"text-yellow-500",bgColor:"bg-yellow-50",badge:"Needs Review"};case"approved":return{icon:i.A,color:"text-green-500",bgColor:"bg-green-50",badge:"Approved"};default:return{icon:l.A,color:"text-gray-400",bgColor:"bg-gray-50",badge:"New"}}})(),v=null===(t=g.aiMetadata)||void 0===t?void 0:t.priority;return(0,a.jsx)("div",{onClick:x,className:"group p-6 hover:bg-gray-50 cursor-pointer transition-all duration-200 border-l-4 ".concat("high"===v?"border-red-500":"medium"===v?"border-yellow-500":"border-transparent"),children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 ".concat(f," p-2 rounded-lg transition-transform group-hover:scale-105"),children:(0,a.jsx)(h,{className:"w-5 h-5 ".concat(p)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 text-lg",children:g.subject}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(f," ").concat(p),children:y}),(null===(s=g.aiMetadata)||void 0===s?void 0:s.sentiment)&&(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat("positive"===g.aiMetadata.sentiment?"bg-green-100 text-green-600":"negative"===g.aiMetadata.sentiment?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"),children:g.aiMetadata.sentiment}),g.attachments&&g.attachments.length>0&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,a.jsx)(c.A,{className:"w-3 h-3"}),g.attachments.length]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[(0,a.jsx)("span",{className:"font-medium",children:g.from}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:(0,u.N)(g.timestamp)}),(null===(m=g.aiMetadata)||void 0===m?void 0:m.category)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-3 h-3"}),g.aiMetadata.category]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-gray-600 line-clamp-2",children:g.body}),g.aiSuggestion&&(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-full",children:[(0,a.jsx)(r.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["AI response ready • ",Math.round(100*g.aiSuggestion.confidence),"% confidence"]})]})})]})]}),(0,a.jsx)("div",{className:"flex flex-col items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(d.A,{className:"w-4 h-4 text-gray-400"})})})]})})}function g(e){let{emails:t,onEmailClick:s}=e;return 0===t.length?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No emails to display"}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow divide-y divide-gray-200",children:t.map(e=>(0,a.jsx)(m,{email:e,onClick:()=>null==s?void 0:s(e)},e.id))})}},986:(e,t,s)=>{"use strict";s.d(t,{PendingHeader:()=>n});var a=s(5155),r=s(6889);function n(){return(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Pending Review"}),(0,a.jsx)(r.A,{className:"w-5 h-5 text-gray-500"})]})})}},6951:(e,t,s)=>{"use strict";s.d(t,{PendingList:()=>g});var a=s(5155),r=s(2115),n=s(2925),i=s(7123),l=s(986),c=s(767),o=s(8867),d=s(3580);let u=(0,s(2800).A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function m(e){let{email:t,isOpen:s,onClose:i}=e,[l,m]=(0,r.useState)(t.body),[g,x]=(0,r.useState)(!1),{updateDraft:h,approveDraft:p}=(0,n.x)();return s?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-3xl p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Review Email"}),(0,a.jsx)("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(c.A,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"To"}),(0,a.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:t.to.join(", ")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),(0,a.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:t.subject})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),g?(0,a.jsx)("textarea",{value:l,onChange:e=>m(e.target.value),rows:8,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"}):(0,a.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded-md whitespace-pre-wrap",children:l})]})]}),(0,a.jsx)("div",{className:"mt-6 flex justify-end gap-3",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,a.jsxs)("button",{onClick:()=>{h(t.id,{...t,body:l}),x(!1)},className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),"Save Changes"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>x(!0),className:"px-4 py-2 text-gray-700 hover:text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),"Edit"]}),(0,a.jsxs)("button",{onClick:()=>{"draft"===t.status&&p(t.id),i()},className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark flex items-center gap-2",children:[(0,a.jsx)(u,{className:"w-4 h-4"}),"draft"===t.status?"Approve & Send":"Send Now"]})]})})]})}):null}function g(){let{emails:e}=(0,n.x)(),[t,s]=(0,r.useState)(null),c=e.filter(e=>"ai_pending"===e.status||"human_pending"===e.status);return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)(l.PendingHeader,{}),(0,a.jsx)(i.n,{emails:c,onEmailClick:e=>s(e)}),t&&(0,a.jsx)(m,{email:t,isOpen:!0,onClose:()=>s(null)})]})}},2925:(e,t,s)=>{"use strict";s.d(t,{Jo:()=>c,x:()=>i});var a=s(5155),r=s(3749),n=s(2115);let i=(0,r.vt)(e=>({emails:[],drafts:[],settings:{tone:"formal",language:"en",signature:"",replyDelay:0,excludedEmails:[],branding:{logoUrl:"https://firebasestorage.googleapis.com/v0/b/yourcaio-649fe.appspot.com/o/DARRENGALVINPROFILE_38.jpg?alt=media&token=2f9e7366-e421-43a3-90cd-a13ad83dcc33",primaryColor:"#014380",secondaryColor:"#014584",companyName:"",emailSignature:""},aiRules:{enabled:!1,allowedSenders:[],excludedSenders:[],keywords:[],maxTokensPerEmail:2e3,monthlyTokenBudget:1e5,processRules:{processAll:!0,processFromList:!1,processWithKeywords:!1}},tokenUsage:{currentMonthTokens:0,monthlyLimit:1e5,costPerThousandTokens:.02},models:{anthropic:{enabled:!0,apiKey:"",maxTokens:2e3,temperature:.7,prompts:{systemPrompt:"",additionalInstructions:""}}},defaultModel:"anthropic"},setEmails:t=>e({emails:t}),addDraft:t=>e(e=>({drafts:[...e.drafts,t]})),updateDraft:(t,s)=>e(e=>({drafts:e.drafts.map(e=>e.id===t?s:e)})),approveDraft:t=>e(e=>({drafts:e.drafts.filter(e=>e.id!==t),emails:[...e.emails,e.drafts.find(e=>e.id===t)]})),deleteDraft:t=>e(e=>({drafts:e.drafts.filter(e=>e.id!==t)})),updateSettings:t=>e({settings:t})})),l=(0,n.createContext)(null);function c(e){let{children:t}=e,s=i();return(0,a.jsx)(l.Provider,{value:s,children:t})}},9313:(e,t,s)=>{"use strict";function a(e){let t=new Date,s=t.getTime()-e.getTime();if(s<6e4)return"Just now";if(s<36e5){let e=Math.floor(s/6e4);return"".concat(e,"m ago")}if(s<864e5){let e=Math.floor(s/36e5);return"".concat(e,"h ago")}return s<6048e5?e.toLocaleDateString("en-US",{weekday:"short"}):e.getFullYear()===t.getFullYear()?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}s.d(t,{N:()=>a})},3749:(e,t,s)=>{"use strict";s.d(t,{vt:()=>m});let a=e=>{let t;let s=new Set,a=(e,a)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=a?a:"object"!=typeof r||null===r)?r:Object.assign({},t,r),s.forEach(s=>s(t,e))}},r=()=>t,n={setState:a,getState:r,getInitialState:()=>i,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},i=t=e(a,r,n);return n},r=e=>e?a(e):a;var n=s(2115),i=s(8010);let{useDebugValue:l}=n,{useSyncExternalStoreWithSelector:c}=i,o=!1,d=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?r(e):e,s=(e,s)=>(function(e,t=d,s){s&&!o&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),o=!0);let a=c(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return l(a),a})(t,e,s);return Object.assign(s,t),s},m=e=>e?u(e):u}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(1495)),_N_E=e.O()}]);