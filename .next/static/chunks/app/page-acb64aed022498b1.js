(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7632:(e,t,s)=>{Promise.resolve().then(s.bind(s,3161))},3161:(e,t,s)=>{"use strict";s.d(t,{EmailDashboard:()=>B});var a=s(5155),n=s(2115),i=s(2925),l=s(7123),r=s(6462);function d(e){let{title:t,onCompose:s}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:t}),(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsxs)("button",{onClick:s,className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(r.A,{className:"w-4 h-4"}),"Compose"]})})]})}var o=s(7410),c=s(6889),m=s(1023);function x(){let{emails:e}=(0,i.x)(),t={aiHandled:e.filter(e=>"ai_pending"===e.status).length,needsReview:e.filter(e=>"human_pending"===e.status).length,approved:e.filter(e=>"approved"===e.status).length};return(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-600",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"AI Processing"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-700 mt-2",children:t.aiHandled})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-yellow-600",children:[(0,a.jsx)(c.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"Needs Review"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-700 mt-2",children:t.needsReview})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,a.jsx)(m.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"Approved"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-700 mt-2",children:t.approved})]})]})}var u=s(767),h=s(6972),g=s(5471),p=s(5015),y=s(1895),b=s(3580),j=s(7934),f=s(9313);function v(e){let{messages:t,currentEmailId:s}=e,n=[...t].sort((e,t)=>e.timestamp.getTime()-t.timestamp.getTime());return(0,a.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("div",{className:"w-px h-4 bg-gray-300"}),(0,a.jsxs)("span",{children:[t.length," messages in thread"]})]}),n.map((e,t)=>(0,a.jsxs)("div",{className:"relative pl-4 ".concat(e.id===s?"bg-blue-50 border border-blue-100 rounded-lg p-4":"pl-8"),children:[t<n.length-1&&(0,a.jsx)("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-gray-200"}),(0,a.jsx)("div",{className:"absolute left-2 top-6 w-4 h-4 rounded-full ".concat(e.id===s?"bg-blue-500":"bg-gray-300")}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.from}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["To: ",e.to.join(", ")]})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:(0,f.N)(e.timestamp)})]}),(0,a.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap",children:e.body}),e.attachments&&e.attachments.length>0&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t space-y-2",children:e.attachments.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-2 rounded",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("span",{className:"text-gray-400",children:["(",Math.round(e.size/1024)," KB)"]})]},e.id))})]})]},e.id))]})}var N=s(3348),w=s(865);function k(e){let{value:t,onChange:s}=e;return(0,a.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>(0,a.jsx)("button",{onClick:()=>s(e),className:"focus:outline-none",children:(0,a.jsx)(w.A,{className:"w-5 h-5 ".concat(e<=t?"fill-yellow-400 text-yellow-400":"text-gray-300")})},e))})}function A(e){let{emailId:t,suggestionId:s,onSubmit:i}=e,[l,r]=(0,n.useState)(0),[d,o]=(0,n.useState)(null),[c,m]=(0,n.useState)(""),[x,u]=(0,n.useState)(!1),h=async()=>{if(null!==d){u(!0);try{await i({emailId:t,suggestionId:s,rating:l,helpful:d,comment:c.trim()||void 0})}finally{u(!1)}}};return(0,a.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Was this AI response helpful?"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ".concat(!0===d?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"),children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),"Yes"]}),(0,a.jsxs)("button",{onClick:()=>o(!1),className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ".concat(!1===d?"bg-red-100 text-red-700":"text-gray-600 hover:bg-gray-100"),children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),"No"]})]}),null!==d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate the response quality"}),(0,a.jsx)(k,{value:l,onChange:r})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional feedback (optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.A,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,a.jsx)("textarea",{value:c,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-md",placeholder:"What could be improved?",rows:3})]})]}),(0,a.jsx)("button",{onClick:h,disabled:x,className:"w-full px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark disabled:opacity-50",children:x?"Submitting...":"Submit Feedback"})]})]})}var S=s(3467),C=s(7072),M=s(4081);function R(e){let{reasoning:t}=e;return"string"==typeof t?(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"AI Reasoning"})]}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:t})]}):(0,a.jsxs)("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-700",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-medium",children:"AI Reasoning Details"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Explanation"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:t.explanation})]}),t.sources&&t.sources.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 text-blue-700"}),(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Sources Used"})]}),(0,a.jsx)("div",{className:"space-y-2",children:t.sources.map(e=>(0,a.jsxs)("div",{className:"bg-white/60 p-3 rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm text-blue-900",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-blue-600",children:[Math.round(100*e.relevance),"% relevant"]})]}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:e.excerpt})]},e.id))})]}),t.embeddings&&t.embeddings.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 text-blue-700"}),(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Key Embeddings"})]}),(0,a.jsx)("div",{className:"space-y-1",children:t.embeddings.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm p-2 bg-white/60 rounded",children:[(0,a.jsx)("span",{className:"text-blue-700",children:e.text}),(0,a.jsxs)("span",{className:"text-xs text-blue-600",children:[Math.round(100*e.similarity),"% match"]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white/60 rounded-md",children:[(0,a.jsx)(M.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Confidence Score"}),(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:[Math.round(100*t.confidence),"%"]})]})]})]})]})}function D(e){var t,s,i,l,r,d,c;let{email:m,isOpen:x,onClose:N,onApprove:w,onReject:k,onEdit:S}=e,[C,M]=(0,n.useState)(!0);return x&&m?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex justify-end",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl bg-white h-full overflow-auto animate-slide-left",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:N,className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(u.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-medium text-gray-900",children:m.subject}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:m.from}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:(0,f.N)(m.timestamp)})]})]})]}),(null===(t=m.aiMetadata)||void 0===t?void 0:t.priority)==="high"&&(0,a.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-sm rounded-full flex items-center gap-1",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"High Priority"]})]}),m.aiMetadata&&(0,a.jsxs)("div",{className:"flex divide-x border-t",children:[(0,a.jsxs)("div",{className:"flex-1 px-4 py-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 block",children:"Sentiment"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat((null===(s=m.aiMetadata)||void 0===s?void 0:s.sentiment)==="positive"?"text-green-600":(null===(i=m.aiMetadata)||void 0===i?void 0:i.sentiment)==="negative"?"text-red-600":"text-gray-600"),children:(null===(l=m.aiMetadata)||void 0===l?void 0:l.sentiment)?m.aiMetadata.sentiment.charAt(0).toUpperCase()+m.aiMetadata.sentiment.slice(1):"Neutral"})]}),(0,a.jsxs)("div",{className:"flex-1 px-4 py-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 block",children:"Priority"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat((null===(r=m.aiMetadata)||void 0===r?void 0:r.priority)==="high"?"text-red-600":(null===(d=m.aiMetadata)||void 0===d?void 0:d.priority)==="medium"?"text-yellow-600":"text-green-600"),children:(null===(c=m.aiMetadata)||void 0===c?void 0:c.priority)?m.aiMetadata.priority.toUpperCase():"NORMAL"})]}),m.aiMetadata.category&&(0,a.jsxs)("div",{className:"flex-1 px-4 py-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 block",children:"Category"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-600 flex items-center gap-1",children:[(0,a.jsx)(g.A,{className:"w-3 h-3"}),m.aiMetadata.category]})]})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[C&&m.thread&&(0,a.jsx)(v,{messages:m.thread,currentEmailId:m.id}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"prose max-w-none whitespace-pre-wrap",children:m.body})}),m.attachments&&m.attachments.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Attachments"}),(0,a.jsx)("div",{className:"space-y-2",children:m.attachments.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 flex-1",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:["(",Math.round(e.size/1024)," KB)"]})]},e.id))})]}),m.aiSuggestion&&(0,a.jsxs)("div",{className:"mb-6 bg-blue-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("h3",{className:"font-medium text-blue-600",children:"AI Suggested Response"}),(0,a.jsxs)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full",children:[Math.round(100*m.aiSuggestion.confidence),"% confidence"]})]}),(0,a.jsxs)("div",{className:"bg-white/80 p-4 rounded",children:[(0,a.jsx)("div",{className:"whitespace-pre-wrap text-gray-900",children:m.aiSuggestion.body}),m.aiSuggestion.reasoning&&(0,a.jsx)(R,{reasoning:m.aiSuggestion.reasoning})]}),(0,a.jsx)(A,{emailId:m.id,suggestionId:m.aiSuggestion.id,onSubmit:async e=>{console.log("Feedback submitted:",e)}})]}),(0,a.jsxs)("div",{className:"sticky bottom-0 bg-white border-t -mx-6 -mb-6 p-4 flex justify-end gap-3",children:[k&&(0,a.jsxs)("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-md",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),"Reject"]}),S&&(0,a.jsxs)("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-50 rounded-md",children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),"Edit"]}),w&&(0,a.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white hover:bg-green-700 rounded-md",children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),"Approve & Send"]})]})]})]})}):null}var I=s(853),T=s(1553),P=s(8424),_=s(4267);let E={search:"",status:[],priority:[],category:[],dateRange:{start:null,end:null}};function U(e){var t;let{onFilterChange:s,onSortChange:i}=e,[l,r]=(0,n.useState)(E),[d,o]=(0,n.useState)({field:"date",direction:"desc"}),c=(0,n.useCallback)(e=>{let t={...l,...e};r(t),s(t)},[l,s]),m=(0,n.useCallback)(e=>{let t=d.field===e&&"desc"===d.direction?"asc":"desc",s={field:e,direction:t};o(s),i(s)},[d,i]),x=(0,n.useCallback)(()=>{r(E),s(E)},[s]),h=l.search||l.status.length>0||l.priority.length>0||l.category.length>0||l.dateRange.start||l.dateRange.end;return(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(I.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search emails...",value:l.search,onChange:e=>c({search:e.target.value}),className:"w-full pl-9 pr-4 py-2 border rounded-md"})]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("select",{value:l.status[0]||"",onChange:e=>c({status:e.target.value?[e.target.value]:[]}),className:"border rounded-md px-3 py-2",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"ai_pending",children:"AI Processing"}),(0,a.jsx)("option",{value:"human_pending",children:"Needs Review"}),(0,a.jsx)("option",{value:"approved",children:"Approved"})]}),(0,a.jsxs)("select",{value:l.priority[0]||"",onChange:e=>c({priority:e.target.value?[e.target.value]:[]}),className:"border rounded-md px-3 py-2",children:[(0,a.jsx)("option",{value:"",children:"All Priority"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"low",children:"Low"})]}),(0,a.jsx)("input",{type:"date",value:(null===(t=l.dateRange.start)||void 0===t?void 0:t.toISOString().split("T")[0])||"",onChange:e=>c({dateRange:{...l.dateRange,start:e.target.value?new Date(e.target.value):null}}),className:"border rounded-md px-3 py-2"}),(0,a.jsxs)("button",{onClick:()=>m("date"),className:"flex items-center gap-1 px-3 py-2 border rounded-md hover:bg-gray-50",children:["date"===d.field&&"desc"===d.direction?(0,a.jsx)(T.A,{className:"w-4 h-4"}):(0,a.jsx)(P.A,{className:"w-4 h-4"}),"Date"]}),h&&(0,a.jsxs)("button",{onClick:x,className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-md",title:"Clear all filters",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),"Clear"]})]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 text-primary hover:bg-primary/5 rounded-md",children:[(0,a.jsx)(_.A,{className:"w-4 h-4"}),"More Filters"]})]}),h&&(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[l.search&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-full text-sm",children:["Search: ",l.search,(0,a.jsx)("button",{onClick:()=>c({search:""}),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(u.A,{className:"w-3 h-3"})})]}),l.status.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:["Status: ",e.replace("_"," "),(0,a.jsx)("button",{onClick:()=>c({status:[]}),className:"text-blue-600 hover:text-blue-800",children:(0,a.jsx)(u.A,{className:"w-3 h-3"})})]},e)),l.priority.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:["Priority: ",e,(0,a.jsx)("button",{onClick:()=>c({priority:[]}),className:"text-yellow-600 hover:text-yellow-800",children:(0,a.jsx)(u.A,{className:"w-3 h-3"})})]},e)),l.dateRange.start&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:["From: ",l.dateRange.start.toLocaleDateString(),(0,a.jsx)("button",{onClick:()=>c({dateRange:{...l.dateRange,start:null}}),className:"text-green-600 hover:text-green-800",children:(0,a.jsx)(u.A,{className:"w-3 h-3"})})]})]})]})}var F=s(7814);function B(){let{emails:e}=(0,i.x)(),{fetchEmails:t}=function(){let[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(null),{setEmails:l}=(0,i.x)();return{loading:e,error:s,fetchEmails:(0,n.useCallback)(async()=>{t(!0),a(null);try{let e=[{id:"1",subject:"Urgent: Q4 Budget Review Meeting",from:"sarah.finance@company.com",to:["user@example.com"],body:"Hi Team,\n\nI hope this email finds you well. We need to schedule an urgent meeting to review the Q4 budget projections. Our preliminary analysis shows some concerning trends that require immediate attention.\n\nKey points for discussion:\n- Revenue forecast adjustments\n- Unexpected cost increases in Q3\n- Impact on year-end targets\n- Mitigation strategies\n\nPlease let me know your availability for tomorrow or Wednesday.\n\nBest regards,\nSarah",attachments:[{id:"1",name:"Q4_Budget_Review.xlsx",type:"spreadsheet",size:2048576,url:"#"},{id:"2",name:"Financial_Summary.pdf",type:"document",size:1048576,url:"#"}],timestamp:new Date,status:"ai_pending",aiMetadata:{sentiment:"negative",priority:"high",category:"finance",suggestedResponse:"Thank you for bringing this to our attention..."},aiSuggestion:{id:"1",body:"Dear Sarah,\n\nThank you for raising these concerns about the Q4 budget. I understand the urgency and can make myself available tomorrow at 2 PM for the review meeting.\n\nI've already reviewed the preliminary numbers and agree that we need to address these trends promptly. I'll prepare some initial mitigation proposals for discussion.\n\nWould tomorrow at 2 PM work for you?\n\nBest regards,\n[Your name]",confidence:.92,reasoning:"Response prioritizes urgency while maintaining professional tone"}},{id:"2",subject:"New Product Launch Success!",from:"marketing.team@company.com",to:["user@example.com"],body:"Hello everyone,\n\nI'm thrilled to share that our latest product launch has exceeded all expectations! The initial numbers are incredibly promising:\n\n• 150% above projected sales\n• 92% positive customer feedback\n• Featured in 3 major tech publications\n• #1 trending in our category\n\nThis success is a testament to everyone's hard work and dedication. Special thanks to the development team for delivering such an outstanding product, and to our marketing team for the excellent campaign execution.\n\nLet's schedule a celebration soon!\n\nCheers,\nMarketing Team",attachments:[],timestamp:new Date(Date.now()-36e5),status:"human_pending",aiMetadata:{sentiment:"positive",priority:"medium",category:"marketing"},aiSuggestion:{id:"2",body:"Congratulations on the successful launch! This is fantastic news...",confidence:.88,reasoning:"Positive acknowledgment with specific metrics mentioned"}},{id:"3",subject:"Weekly Development Update",from:"dev.lead@company.com",to:["user@example.com"],body:"Team,\n\nHere's our weekly development update:\n\nSprint Progress:\n✅ User authentication refactor completed\n\uD83C\uDFD7️ API optimization in progress (75% complete)\n\uD83D\uDCF1 Mobile responsive design implementation started\n\uD83D\uDC1B Fixed 12 high-priority bugs\n\nUpcoming Challenges:\n- Database migration scheduled for next week\n- Load testing for new features\n- Third-party integration updates\n\nPlease review the attached technical documentation and provide feedback by Friday.\n\nRegards,\nDev Team",attachments:[{id:"3",name:"TechnicalSpec.pdf",type:"document",size:3145728,url:"#"}],timestamp:new Date(Date.now()-72e5),status:"approved",aiMetadata:{sentiment:"neutral",priority:"medium",category:"development"}}];l(e)}catch(e){a(e instanceof Error?e:Error("Failed to fetch emails"))}finally{t(!1)}},[l])}}(),[s,r]=(0,n.useState)(null),[o,c]=(0,n.useState)(e),m=(0,n.useCallback)(()=>{console.log("Compose clicked")},[]);return(0,n.useEffect)(()=>{t().catch(console.error)},[t]),(0,n.useEffect)(()=>{c(e)},[e]),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)(d,{title:"AI-Powered Inbox",onCompose:m}),(0,a.jsx)(x,{}),(0,a.jsx)(U,{onFilterChange:e=>{},onSortChange:e=>{}}),(0,a.jsx)(l.n,{emails:o,onEmailClick:e=>{"Urgent: Q4 Budget Review Meeting"===e.subject?r({...e,thread:F.Q.messages.map(t=>({id:t.id,subject:e.subject,body:t.body,to:e.to,from:t.from,timestamp:new Date(t.timestamp),status:"sent"}))}):r(e)}}),(0,a.jsx)(D,{email:s,isOpen:!!s,onClose:()=>r(null),onApprove:()=>{console.log("Approved:",null==s?void 0:s.id),r(null)},onReject:()=>{console.log("Rejected:",null==s?void 0:s.id),r(null)},onEdit:()=>{console.log("Edit:",null==s?void 0:s.id)}})]})}},7123:(e,t,s)=>{"use strict";s.d(t,{n:()=>u});var a=s(5155),n=s(7410),i=s(6889),l=s(1023),r=s(6972),d=s(5015),o=s(5471),c=s(865),m=s(9313);function x(e){var t,s,x;let{email:u,onClick:h}=e,{icon:g,color:p,bgColor:y,badge:b}=(()=>{switch(u.status){case"ai_pending":return{icon:n.A,color:"text-blue-500",bgColor:"bg-blue-50",badge:"AI Processing"};case"human_pending":return{icon:i.A,color:"text-yellow-500",bgColor:"bg-yellow-50",badge:"Needs Review"};case"approved":return{icon:l.A,color:"text-green-500",bgColor:"bg-green-50",badge:"Approved"};default:return{icon:r.A,color:"text-gray-400",bgColor:"bg-gray-50",badge:"New"}}})(),j=null===(t=u.aiMetadata)||void 0===t?void 0:t.priority;return(0,a.jsx)("div",{onClick:h,className:"group p-6 hover:bg-gray-50 cursor-pointer transition-all duration-200 border-l-4 ".concat("high"===j?"border-red-500":"medium"===j?"border-yellow-500":"border-transparent"),children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 ".concat(y," p-2 rounded-lg transition-transform group-hover:scale-105"),children:(0,a.jsx)(g,{className:"w-5 h-5 ".concat(p)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 text-lg",children:u.subject}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(y," ").concat(p),children:b}),(null===(s=u.aiMetadata)||void 0===s?void 0:s.sentiment)&&(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat("positive"===u.aiMetadata.sentiment?"bg-green-100 text-green-600":"negative"===u.aiMetadata.sentiment?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"),children:u.aiMetadata.sentiment}),u.attachments&&u.attachments.length>0&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,a.jsx)(d.A,{className:"w-3 h-3"}),u.attachments.length]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[(0,a.jsx)("span",{className:"font-medium",children:u.from}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:(0,m.N)(u.timestamp)}),(null===(x=u.aiMetadata)||void 0===x?void 0:x.category)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-3 h-3"}),u.aiMetadata.category]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-gray-600 line-clamp-2",children:u.body}),u.aiSuggestion&&(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-full",children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["AI response ready • ",Math.round(100*u.aiSuggestion.confidence),"% confidence"]})]})})]})]}),(0,a.jsx)("div",{className:"flex flex-col items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(c.A,{className:"w-4 h-4 text-gray-400"})})})]})})}function u(e){let{emails:t,onEmailClick:s}=e;return 0===t.length?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No emails to display"}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow divide-y divide-gray-200",children:t.map(e=>(0,a.jsx)(x,{email:e,onClick:()=>null==s?void 0:s(e)},e.id))})}},2925:(e,t,s)=>{"use strict";s.d(t,{Jo:()=>d,x:()=>l});var a=s(5155),n=s(3749),i=s(2115);let l=(0,n.vt)(e=>({emails:[],drafts:[],settings:{tone:"formal",language:"en",signature:"",replyDelay:0,excludedEmails:[],branding:{logoUrl:null,primaryColor:"#014380",secondaryColor:"#014584",companyName:"",emailSignature:""},aiRules:{enabled:!1,allowedSenders:[],excludedSenders:[],keywords:[],maxTokensPerEmail:2e3,monthlyTokenBudget:1e5,processRules:{processAll:!0,processFromList:!1,processWithKeywords:!1}},tokenUsage:{currentMonthTokens:0,monthlyLimit:1e5,costPerThousandTokens:.02},models:{anthropic:{enabled:!0,apiKey:"",maxTokens:2e3,temperature:.7,prompts:{systemPrompt:"",additionalInstructions:""}}},defaultModel:"anthropic"},setEmails:t=>e({emails:t}),addDraft:t=>e(e=>({drafts:[...e.drafts,t]})),updateDraft:(t,s)=>e(e=>({drafts:e.drafts.map(e=>e.id===t?s:e)})),approveDraft:t=>e(e=>({drafts:e.drafts.filter(e=>e.id!==t),emails:[...e.emails,e.drafts.find(e=>e.id===t)]})),deleteDraft:t=>e(e=>({drafts:e.drafts.filter(e=>e.id!==t)})),updateSettings:t=>e({settings:t})})),r=(0,i.createContext)(null);function d(e){let{children:t}=e,s=l();return(0,a.jsx)(r.Provider,{value:s,children:t})}},9313:(e,t,s)=>{"use strict";function a(e){let t=new Date,s=t.getTime()-e.getTime();if(s<6e4)return"Just now";if(s<36e5){let e=Math.floor(s/6e4);return"".concat(e,"m ago")}if(s<864e5){let e=Math.floor(s/36e5);return"".concat(e,"h ago")}return s<6048e5?e.toLocaleDateString("en-US",{weekday:"short"}):e.getFullYear()===t.getFullYear()?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}s.d(t,{N:()=>a})},7814:(e,t,s)=>{"use strict";s.d(t,{Q:()=>a,u:()=>n});let a={id:"1",subject:"Urgent: Q4 Budget Review Meeting",messages:[{id:"msg1",from:"sarah.finance@company.com",to:["team@company.com"],subject:"Urgent: Q4 Budget Review Meeting",body:"Hi Team,\n\nI hope this email finds you well. We need to schedule an urgent meeting to review the Q4 budget projections. Our preliminary analysis shows some concerning trends that require immediate attention.\n\nKey points for discussion:\n- Revenue forecast adjustments\n- Unexpected cost increases in Q3\n- Impact on year-end targets\n- Mitigation strategies\n\nPlease let me know your availability for tomorrow or Wednesday.\n\nBest regards,\nSarah",timestamp:new Date("2024-01-04T09:00:00"),status:"sent",attachments:[{id:"1",name:"Q4_Budget_Review.xlsx",size:2048576},{id:"2",name:"Financial_Summary.pdf",size:1048576}]},{id:"msg2",from:"john.manager@company.com",to:["sarah.finance@company.com","team@company.com"],subject:"Re: Urgent: Q4 Budget Review Meeting",body:"Thanks for flagging this, Sarah.\n\nI can make myself available tomorrow at 2 PM EST. The cost increases are indeed concerning, and I've already started gathering some data on the main contributors.\n\nI'll prepare a brief overview of the operational impacts for the meeting.\n\nBest,\nJohn",timestamp:new Date("2024-01-04T09:45:00"),status:"sent"}]},n=[{id:"1",subject:"Urgent: Q4 Budget Review Meeting",from:"sarah.finance@company.com",to:["user@example.com"],body:a.messages[0].body,attachments:a.messages[0].attachments,timestamp:new Date,status:"ai_pending",aiMetadata:{sentiment:"negative",priority:"high",category:"finance"},aiSuggestion:{id:"sugg1",body:"Dear Sarah,\n\nThank you for raising these concerns about the Q4 budget. I understand the urgency and can make myself available tomorrow at 2 PM for the review meeting.\n\nI've already reviewed the preliminary numbers and agree that we need to address these trends promptly. I'll prepare some initial mitigation proposals for discussion.\n\nWould tomorrow at 2 PM work for you?\n\nBest regards,\n[Your name]",confidence:.92,reasoning:"Response prioritizes urgency while maintaining professional tone"}}]}},e=>{var t=t=>e(e.s=t);e.O(0,[389,441,517,358],()=>t(7632)),_N_E=e.O()}]);